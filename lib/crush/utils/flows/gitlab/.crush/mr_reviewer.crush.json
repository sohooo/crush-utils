{
  "$schema": "https://charm.land/crush.json",
  "session_name": "$CRUSH_WORKFLOW_SESSION_NAME",
  "providers": {
    "lab-vllm": {
      "name": "$CRUSH_PROVIDER_NAME",
      "type": "$CRUSH_PROVIDER_TYPE",
      "base_url": "$CRUSH_PROVIDER_BASE_URL",
      "api_key": "$CRUSH_PROVIDER_API_KEY",
      "models": [
        {
          "id": "$CRUSH_MODEL_ID",
          "name": "$CRUSH_MODEL_NAME",
          "context_window": 131072,
          "default_max_tokens": 12000
        }
      ]
    }
  },
  "mcp": {
    "gitlab": {
      "type": "stdio",
      "command": "bundle",
      "args": [
        "exec",
        "ruby",
        "bin/gitlab-mcp"
      ],
      "timeout": 300,
      "disabled": false
    }
  },
  "options": {
    "disable_provider_auto_update": true,
    "disable_metrics": true,
    "debug": false,
    "tui": { "compact_mode": true },
    "context_paths": [
      "$CRUSH_CONTEXT_PATH"
    ]
  },
  "permissions": {
    "allowed_tools": ["view", "grep", "edit"]
  },
  "initial_prompt": "$CRUSH_INITIAL_PROMPT"
}
